"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports, "__esModule", { value: true });exports.evaluatePosition = evaluatePosition;var _assert = _interopRequireDefault(require("assert"));
var _graphSchemeReference = require("../../../graphModel/graphSchemeReference.js");

var _extractPropertyFromObject = require("../../../utility/extractPropertyFromObject.js");





async function evaluatePosition({ node, graphInstance = this }) {
  let { configureArray } = await graphInstance.databaseWrapper.getConfigure({ concreteDatabase: graphInstance.database, nodeID: node.identity });


  let configurationMap = new Map();
  for (let configure of configureArray)
  if (configure.source.labels.includes(_graphSchemeReference.nodeLabel.stage)) {

    let configurationNodeArray = await graphInstance.traverse(




    {
      nodeInstance: configure.source,
      implementationKey: {
        processData: 'switchCase',
        traversalInterception: 'traverseThenProcessWithLogicalOperator',
        aggregator: 'ConditionAggregator' } },


    {
      traverseCallContext: {
        targetNode: configure.destination } });



    if (configurationNodeArray.length > 1) throw new Error('• CONFIGURE relationship that returns multiple configurations is not supported.');else
    if (configurationNodeArray.length != 0) {
      let configurationNode = configurationNodeArray[0];
      (0, _assert.default)(configurationNode.labels.includes(_graphSchemeReference.nodeLabel.configuration), `• CONFIGURE sub-graph traversal must return a Configuration node.`);

      configurationMap.set(configure, configurationNode);
    }
  }


  let implementationConfigurationArray = configureArray.
  filter(configure => configure.connection.properties.setting == 'implementation').
  map(configure => {
    let configuration;
    if (configurationMap.get(configure)) configuration = configurationMap.get(configure);else
    configuration = configure.source;
    return (0, _extractPropertyFromObject.extractConfigProperty)(configuration.properties, _graphSchemeReference.traversalOption);
  });
  let evaluationConfigurationArray = configureArray.
  filter(configure => configure.connection.properties.setting == 'evaluation').
  map(configure => {
    let configuration;
    if (configurationMap.get(configure)) configuration = configurationMap.get(configure);else
    configuration = configure.source;
    return (0, _extractPropertyFromObject.extractConfigProperty)(configuration.properties, _graphSchemeReference.evaluationOption);
  });


  let implementationConfiguration = implementationConfigurationArray.length > 0 ? Object.assign(...implementationConfigurationArray) : {};
  let evaluationConfiguration = evaluationConfigurationArray.length > 0 ? Object.assign(...evaluationConfigurationArray) : {};

  return { implementationConfiguration, evaluationConfiguration };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NvdXJjZS9jb25zdHJ1Y3RhYmxlL0dyYXBoL21ldGhvZC9ldmFsdWF0ZVBvc2l0aW9uLmpzIl0sIm5hbWVzIjpbImV2YWx1YXRlUG9zaXRpb24iLCJub2RlIiwiZ3JhcGhJbnN0YW5jZSIsImNvbmZpZ3VyZUFycmF5IiwiZGF0YWJhc2VXcmFwcGVyIiwiZ2V0Q29uZmlndXJlIiwiY29uY3JldGVEYXRhYmFzZSIsImRhdGFiYXNlIiwibm9kZUlEIiwiaWRlbnRpdHkiLCJjb25maWd1cmF0aW9uTWFwIiwiTWFwIiwiY29uZmlndXJlIiwic291cmNlIiwibGFiZWxzIiwiaW5jbHVkZXMiLCJub2RlTGFiZWwiLCJzdGFnZSIsImNvbmZpZ3VyYXRpb25Ob2RlQXJyYXkiLCJ0cmF2ZXJzZSIsIm5vZGVJbnN0YW5jZSIsImltcGxlbWVudGF0aW9uS2V5IiwicHJvY2Vzc0RhdGEiLCJ0cmF2ZXJzYWxJbnRlcmNlcHRpb24iLCJhZ2dyZWdhdG9yIiwidHJhdmVyc2VDYWxsQ29udGV4dCIsInRhcmdldE5vZGUiLCJkZXN0aW5hdGlvbiIsImxlbmd0aCIsIkVycm9yIiwiY29uZmlndXJhdGlvbk5vZGUiLCJjb25maWd1cmF0aW9uIiwic2V0IiwiaW1wbGVtZW50YXRpb25Db25maWd1cmF0aW9uQXJyYXkiLCJmaWx0ZXIiLCJjb25uZWN0aW9uIiwicHJvcGVydGllcyIsInNldHRpbmciLCJtYXAiLCJnZXQiLCJ0cmF2ZXJzYWxPcHRpb24iLCJldmFsdWF0aW9uQ29uZmlndXJhdGlvbkFycmF5IiwiZXZhbHVhdGlvbk9wdGlvbiIsImltcGxlbWVudGF0aW9uQ29uZmlndXJhdGlvbiIsIk9iamVjdCIsImFzc2lnbiIsImV2YWx1YXRpb25Db25maWd1cmF0aW9uIl0sIm1hcHBpbmdzIjoiNE1BQUE7QUFDQTs7QUFFQTs7Ozs7O0FBTU8sZUFBZUEsZ0JBQWYsQ0FBZ0MsRUFBRUMsSUFBRixFQUFRQyxhQUFhLEdBQUcsSUFBeEIsRUFBaEMsRUFBZ0U7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SUMsMkJBQTJCLEdBQUdWLGdDQUFnQyxDQUFDTCxNQUFqQyxHQUEwQyxDQUExQyxHQUE4Q2dCLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjLEdBQUdaLGdDQUFqQixDQUE5QyxHQUFtRyxFQUFySTtBQUNBLE1BQUlhLHVCQUF1QixHQUFHTCw0QkFBNEIsQ0FBQ2IsTUFBN0IsR0FBc0MsQ0FBdEMsR0FBMENnQixNQUFNLENBQUNDLE1BQVAsQ0FBYyxHQUFHSiw0QkFBakIsQ0FBMUMsR0FBMkYsRUFBekg7O0FBRUEsU0FBTyxFQUFFRSwyQkFBRixFQUErQkcsdUJBQS9CLEVBQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0J1xuaW1wb3J0IHsgbm9kZUxhYmVsLCBjb25uZWN0aW9uVHlwZSwgY29ubmVjdGlvblByb3BlcnR5IH0gZnJvbSAnLi4vLi4vLi4vZ3JhcGhNb2RlbC9ncmFwaFNjaGVtZVJlZmVyZW5jZS5qcydcbmltcG9ydCB7IGV2YWx1YXRpb25PcHRpb24sIHRyYXZlcnNhbE9wdGlvbiB9IGZyb20gJy4uLy4uLy4uL2dyYXBoTW9kZWwvZ3JhcGhTY2hlbWVSZWZlcmVuY2UuanMnXG5pbXBvcnQgeyBleHRyYWN0Q29uZmlnUHJvcGVydHkgfSBmcm9tICcuLi8uLi8uLi91dGlsaXR5L2V4dHJhY3RQcm9wZXJ0eUZyb21PYmplY3QuanMnXG5cbi8qKlxuICogTm9kZSdzIGluY2x1ZGUvZXhjbHVkZSBldmFsdWF0aW9uIC0gZXZhbHVhdGUgd2hldGhlciBvciBub3QgYSBub2RlIHdob3VsZCBiZSBpbmNsdWRlZCBpbiB0aGUgbm9kZSBmZWVkIGFuZCBzdWJzZXF1ZW50bHkgaW4gdGhlIHRyYXZlcnNhbC4gY29udGludWUgY2hpbGQgbm9kZXMgdHJhdmVyc2FsIG9yIGJyZWFrIHRyYXZlcnNhbC5cbiAqICYgdHJhdmVyc2FsIGltcGxlbWVudGF0aW9uIGNvbmZpZ3VyYXRpb24gLSBjaG9vc2VzIHRoZSBjdXN0b20gZnVuY3Rpb25zIHRvIGJlIHVzZWQgaW4gdGhlIHRyYXZlcnNhbC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV2YWx1YXRlUG9zaXRpb24oeyBub2RlLCBncmFwaEluc3RhbmNlID0gdGhpcyB9KSB7XG4gIGxldCB7IGNvbmZpZ3VyZUFycmF5IH0gPSBhd2FpdCBncmFwaEluc3RhbmNlLmRhdGFiYXNlV3JhcHBlci5nZXRDb25maWd1cmUoeyBjb25jcmV0ZURhdGFiYXNlOiBncmFwaEluc3RhbmNlLmRhdGFiYXNlLCBub2RlSUQ6IG5vZGUuaWRlbnRpdHkgfSlcblxuICAvLyBldmFsdWF0ZSBjb25maWd1cmF0aW9uIGJ5IHRyYXZlcnNpbmcgc3ViZ3JhcGggbm9kZXMgKHRyYXZlcnNlIHN3aXRjaCBzdGFnZSBub2RlKSAmIHJlcGxhY2UgZGVzdGluYXRpb24gbm9kZSB3aXRoIGEgY29uZmlndXJhdGlvbiBub2RlOlxuICBsZXQgY29uZmlndXJhdGlvbk1hcCA9IG5ldyBNYXAoKSAvLyBtYXBzIGV2YWx1YXRlZCBjb25maWd1cmF0aW9uIHRvIHRoZSBDT05GSUdVUkUgcmVsYXRpb25zaGlwcy5cbiAgZm9yIChsZXQgY29uZmlndXJlIG9mIGNvbmZpZ3VyZUFycmF5KVxuICAgIGlmIChjb25maWd1cmUuc291cmNlLmxhYmVscy5pbmNsdWRlcyhub2RlTGFiZWwuc3RhZ2UpKSB7XG4gICAgICAvLyBUT0RPOiBjcmVhdGUgYW4gaW5zdGFuY2UgZ3JhcGggZnJvbSB0aGUgY3VycmVudCBncmFwaEluc3RhbmNlLCB0byBhbGxvdyBwYXNzaW5nIGFkZGl0aW9uYWwgY29udGV4dCBwYXJhbWV0cnMuXG4gICAgICBsZXQgY29uZmlndXJhdGlvbk5vZGVBcnJheSA9IGF3YWl0IGdyYXBoSW5zdGFuY2UudHJhdmVyc2UoXG4gICAgICAgIC8qIFRPRE86IE5vdGU6IHRoaXMgaXMgYSBxdWljayBpbXBsZW1lbnRhdGlvbiBiZWNhdXNlIGRpZ2dpbmcgaW50byB0aGUgY29yZSBjb2RlIGlzIHRpbWUgY29uc3VtaW5nLCB0aGUgZGlmZmVyZW50IGNvbmNlcHRzIHVzZWQgaW4gaGVyZSBjb3VsZCBiZSBpbXByb3ZlZCBhbmQgYnVpbHQgdXBvbiBvdGhlciBhbHJlYWR5IGV4aXN0aW5nIGNvbmNlcHRzOiBcbiAgICAgICAgICDigKIgJ3RyYXZlcnNhbENhbGxDb250ZXh0JyAtIHRoZSAybmQgcHJvdmlkZWQgYXJndW1lbnQgY291bGQgYmUgaW5zdGVhZCBhcHBsaWVkIGFzIGEgcmVndWxhciBDb250ZXh0IHNwZWNpZmljIGZvciB0aGUgY2FsbCwgYnkgY3JlYXRpbmcgYSBuZXcgZ3JhcGhJbnN0YW5jZSBjaGFpbiB3aXRoIGl0J3MgdW5pcXVlIGNvbnRleHQsIGluIGFkZGl0aW9uIHRvIHRoZSBhbHJlYWR5IGV4aXN0aW5nIGNvbnRleHQgaW5zdGFuY2UuXG4gICAgICAgICAgd2FzIHRoaXMgZG9uZSA/IH5+4oCiIENvbmRpdGlvbkFnZ3JlZ2F0b3IgJiB0cmF2ZXJzZVRoZW5Qcm9jZXNzV2l0aExvZ2ljYWxPcGVyYXRvciBpbXBsZW1lbnRhdGlvbnMgY291bGQgYmUgaW50ZWdyYXR0ZWQgaW50byB0aGUgb3RoZXIgaW1wbGVtZW50YXRpb25zLn5+XG4gICAgICAgICovXG4gICAgICAgIHtcbiAgICAgICAgICBub2RlSW5zdGFuY2U6IGNvbmZpZ3VyZS5zb3VyY2UsXG4gICAgICAgICAgaW1wbGVtZW50YXRpb25LZXk6IHtcbiAgICAgICAgICAgIHByb2Nlc3NEYXRhOiAnc3dpdGNoQ2FzZScsXG4gICAgICAgICAgICB0cmF2ZXJzYWxJbnRlcmNlcHRpb246ICd0cmF2ZXJzZVRoZW5Qcm9jZXNzV2l0aExvZ2ljYWxPcGVyYXRvcicsXG4gICAgICAgICAgICBhZ2dyZWdhdG9yOiAnQ29uZGl0aW9uQWdncmVnYXRvcicsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRyYXZlcnNlQ2FsbENvbnRleHQ6IHtcbiAgICAgICAgICAgIHRhcmdldE5vZGU6IGNvbmZpZ3VyZS5kZXN0aW5hdGlvbixcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgKSAvLyB0cmF2ZXJzZSBzdWJncmFwaCB0byByZXRyaWV2ZSBhIGNvbmZpZ3VyYXRpb24gbm9kZS5cbiAgICAgIGlmIChjb25maWd1cmF0aW9uTm9kZUFycmF5Lmxlbmd0aCA+IDEpIHRocm93IG5ldyBFcnJvcign4oCiIENPTkZJR1VSRSByZWxhdGlvbnNoaXAgdGhhdCByZXR1cm5zIG11bHRpcGxlIGNvbmZpZ3VyYXRpb25zIGlzIG5vdCBzdXBwb3J0ZWQuJylcbiAgICAgIGVsc2UgaWYgKGNvbmZpZ3VyYXRpb25Ob2RlQXJyYXkubGVuZ3RoICE9IDApIHtcbiAgICAgICAgbGV0IGNvbmZpZ3VyYXRpb25Ob2RlID0gY29uZmlndXJhdGlvbk5vZGVBcnJheVswXVxuICAgICAgICBhc3NlcnQoY29uZmlndXJhdGlvbk5vZGUubGFiZWxzLmluY2x1ZGVzKG5vZGVMYWJlbC5jb25maWd1cmF0aW9uKSwgYOKAoiBDT05GSUdVUkUgc3ViLWdyYXBoIHRyYXZlcnNhbCBtdXN0IHJldHVybiBhIENvbmZpZ3VyYXRpb24gbm9kZS5gKVxuICAgICAgICAvLyByZXBsYWNlIGRlc3RpbmF0aW9uIG5vZGUgd2l0aCBhcHByb3ByaWF0ZSBldmFsdWF0ZWQgY29uZmlndXJhdGlvbjpcbiAgICAgICAgY29uZmlndXJhdGlvbk1hcC5zZXQoY29uZmlndXJlLCBjb25maWd1cmF0aW9uTm9kZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgLy8gZXh0cmFjdCBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgZnJvbSBjb25maWd1cmUgcmVsYXRpb25zaGlwOlxuICBsZXQgaW1wbGVtZW50YXRpb25Db25maWd1cmF0aW9uQXJyYXkgPSBjb25maWd1cmVBcnJheVxuICAgIC5maWx0ZXIoY29uZmlndXJlID0+IGNvbmZpZ3VyZS5jb25uZWN0aW9uLnByb3BlcnRpZXMuc2V0dGluZyA9PSAnaW1wbGVtZW50YXRpb24nKVxuICAgIC5tYXAoY29uZmlndXJlID0+IHtcbiAgICAgIGxldCBjb25maWd1cmF0aW9uXG4gICAgICBpZiAoY29uZmlndXJhdGlvbk1hcC5nZXQoY29uZmlndXJlKSkgY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb25NYXAuZ2V0KGNvbmZpZ3VyZSlcbiAgICAgIGVsc2UgY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyZS5zb3VyY2VcbiAgICAgIHJldHVybiBleHRyYWN0Q29uZmlnUHJvcGVydHkoY29uZmlndXJhdGlvbi5wcm9wZXJ0aWVzLCB0cmF2ZXJzYWxPcHRpb24pXG4gICAgfSlcbiAgbGV0IGV2YWx1YXRpb25Db25maWd1cmF0aW9uQXJyYXkgPSBjb25maWd1cmVBcnJheVxuICAgIC5maWx0ZXIoY29uZmlndXJlID0+IGNvbmZpZ3VyZS5jb25uZWN0aW9uLnByb3BlcnRpZXMuc2V0dGluZyA9PSAnZXZhbHVhdGlvbicpXG4gICAgLm1hcChjb25maWd1cmUgPT4ge1xuICAgICAgbGV0IGNvbmZpZ3VyYXRpb25cbiAgICAgIGlmIChjb25maWd1cmF0aW9uTWFwLmdldChjb25maWd1cmUpKSBjb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbk1hcC5nZXQoY29uZmlndXJlKVxuICAgICAgZWxzZSBjb25maWd1cmF0aW9uID0gY29uZmlndXJlLnNvdXJjZVxuICAgICAgcmV0dXJuIGV4dHJhY3RDb25maWdQcm9wZXJ0eShjb25maWd1cmF0aW9uLnByb3BlcnRpZXMsIGV2YWx1YXRpb25PcHRpb24pXG4gICAgfSlcblxuICAvLyBtZXJnZSBtdWx0aXBsZSBjb25maWd1cmF0aW9ucyBvZiB0aGUgc2FtZSB0eXBlXG4gIGxldCBpbXBsZW1lbnRhdGlvbkNvbmZpZ3VyYXRpb24gPSBpbXBsZW1lbnRhdGlvbkNvbmZpZ3VyYXRpb25BcnJheS5sZW5ndGggPiAwID8gT2JqZWN0LmFzc2lnbiguLi5pbXBsZW1lbnRhdGlvbkNvbmZpZ3VyYXRpb25BcnJheSkgOiB7fVxuICBsZXQgZXZhbHVhdGlvbkNvbmZpZ3VyYXRpb24gPSBldmFsdWF0aW9uQ29uZmlndXJhdGlvbkFycmF5Lmxlbmd0aCA+IDAgPyBPYmplY3QuYXNzaWduKC4uLmV2YWx1YXRpb25Db25maWd1cmF0aW9uQXJyYXkpIDoge31cblxuICByZXR1cm4geyBpbXBsZW1lbnRhdGlvbkNvbmZpZ3VyYXRpb24sIGV2YWx1YXRpb25Db25maWd1cmF0aW9uIH1cbn1cbiJdfQ==